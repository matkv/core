import{f as g,e as q,a as c,t as P,s as W,c as O}from"../chunks/CYfSSuN4.js";import{i as F}from"../chunks/DG6koc4w.js";import{p as V,o as G,c as J,d as v,f as i,m as R,i as f,s as k,t as C,l as Q,k as S,j as d,E as X}from"../chunks/CgqYAJcN.js";import"../chunks/DfmFlSgd.js";import{C as E,w as I}from"../chunks/DwmjLiy8.js";import{p as z,i as j}from"../chunks/DNk-u1ix.js";import{p as T}from"../chunks/BeFktIXQ.js";import{s as Y}from"../chunks/D-elBnQr.js";var Z=g('<p class="text-xs text-red-400"> </p>'),tt=g('<p class="text-2xl font-semibold"> </p>'),et=g('<p class="text-xs text-neutral-500">Click the button to fetch a random value.</p>'),at=g('<div class="space-y-3"><button class="btn-secondary" type="button"><!></button> <!></div>');function rt(x,u){V(u,!1);let m=z(u,"widgetId",8,"random-card"),e=R(null),r=R(!1),s=R(null);const _=()=>{const t=S(T).url.pathname,l=I.getWidgetState(t,m());l&&(d(e,l.randomValue),d(s,l.error))},b=()=>{const t=S(T).url.pathname;I.setWidgetState(t,m(),{randomValue:i(e),error:i(s)})};G(()=>{_()});const o=async()=>{d(r,!0),d(s,null);try{const t=await fetch("/api/random");if(!t.ok)throw new Error(`Request failed with status ${t.status}`);const l=await t.json();d(e,l.value??null),b()}catch(t){d(s,t instanceof Error?t.message:"Unknown error"),d(e,null),b()}finally{d(r,!1)}};F(),E(x,{title:"Random number demo",subtitle:"Calls Go /api/random",children:(t,l)=>{var p=at(),w=v(p),A=v(w);{var L=a=>{var n=P("Fetching...");c(a,n)},M=a=>{var n=P("Get random number");c(a,n)};j(A,a=>{i(r)?a(L):a(M,!1)})}f(w);var N=k(w,2);{var U=a=>{var n=Z(),$=v(n);f(n),C(()=>W($,`Error: ${i(s)??""}`)),c(a,n)},B=a=>{var n=O(),$=Q(n);{var D=h=>{var y=tt(),K=v(y,!0);f(y),C(()=>W(K,i(e))),c(h,y)},H=h=>{var y=et();c(h,y)};j($,h=>{i(e)!==null?h(D):h(H,!1)},!0)}c(a,n)};j(N,a=>{i(s)?a(U):a(B,!1)})}f(p),C(()=>w.disabled=i(r)),q("click",w,o),c(t,p)},$$slots:{default:!0}}),J()}var st=g('<div class="space-y-2"><label class="field-label" for="journal-text">Note</label> <textarea id="journal-text" class="field min-h-30 resize-none" rows="4" placeholder="Type something..."></textarea></div>');function ot(x,u){V(u,!1);let m=z(u,"widgetId",8,"journal-card"),e=R("");const r="/journal",s=()=>{const o=I.getWidgetState(r,m());o&&d(e,o.text)},_=()=>{I.setWidgetState(r,m(),{text:i(e)})};G(()=>{s()});const b=o=>{const t=o.target;d(e,t.value),_()};F(),E(x,{title:"Journal",subtitle:"Write a quick note",children:(o,t)=>{var l=st(),p=k(v(l),2);X(p),f(l),C(()=>Y(p,i(e))),q("input",p,b),c(o,l)},$$slots:{default:!0}}),J()}var lt=g('<p class="text-sm text-neutral-400">This space can hold upcoming widgets and quick actions.</p>'),nt=g('<section class="space-y-6"><div class="space-y-2"><h1 class="text-3xl font-semibold tracking-tight text-neutral-100">Core</h1> <p class="text-sm text-neutral-400">A minimal dashboard for your personal CLI.</p></div> <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3"><!> <!> <!></div></section>');function gt(x){var u=nt(),m=k(v(u),2),e=v(m);rt(e,{widgetId:"home-random"});var r=k(e,2);ot(r,{widgetId:"journal-card"});var s=k(r,2);E(s,{title:"Example widget",subtitle:"Placeholder card for future features",children:(_,b)=>{var o=lt();c(_,o)},$$slots:{default:!0}}),f(m),f(u),c(x,u)}export{gt as component};
